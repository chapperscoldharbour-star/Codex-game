<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Codex Game</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #111;
      overflow: hidden;
      height: 100%;
      width: 100%;
      touch-action: none;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
<script>
class MainScene extends Phaser.Scene {
  create() {
    this.cameras.main.setBackgroundColor('#1e1e1e');
    const g = this.add.graphics();
    g.fillStyle(0xffffff);
    g.fillCircle(0, 0, 20);
    g.generateTexture('player', 40, 40);
    g.destroy();

    this.player = this.physics.add.sprite(200, 200, 'player');
    this.player.setCollideWorldBounds(true);
    this.input.on('pointerdown', p => {
      const speed = 250;
      const angle = Math.atan2(p.y - this.player.y, p.x - this.player.x);
      this.player.setVelocity(Math.cos(angle) * speed, Math.sin(angle) * speed);
    });
    this.add.text(10, 10, 'Tap anywhere to move', { color: '#fff', fontSize: '18px' });
  }
}

new Phaser.Game({
  type: Phaser.AUTO,
  width: window.innerWidth,
  height: window.innerHeight,
  backgroundColor: '#000',
  physics: { default: 'arcade' },
  scene: [MainScene],
  scale: { mode: Phaser.Scale.RESIZE, autoCenter: Phaser.Scale.CENTER_BOTH }
});
</script>
</body>
</html>